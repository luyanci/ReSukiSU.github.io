import{_ as b,I as n,o as u,c as m,j as e,a as l,J as t,w as a,ab as r}from"./chunks/framework.CEw9AoTv.js";const v=JSON.parse('{"title":"安装 ReSukiSU","description":"","frontmatter":{},"headers":[],"relativePath":"zh-Hans/guide/install.md","filePath":"zh-Hans/guide/install.md"}'),k={name:"zh-Hans/guide/install.md"},g={class:"tip custom-block"},p={class:"info custom-block"};function f(S,o,I,P,A,M){const s=n("CopyOrDownloadAsMarkdownButtons"),i=n("VPNolebaseInlineLinkPreview"),d=n("NolebaseGitChangelog");return u(),m("div",{"data-pagefind-body":!0,"data-pagefind-meta":"date:1771085442000"},[o[29]||(o[29]=e("div",{style:{display:"none"},hidden:"true","aria-hidden":"true"},"Are you an LLM? You can read better optimized documentation at /zh-Hans/guide/install.md for this page in Markdown format",-1)),o[30]||(o[30]=e("h1",{id:"install",tabindex:"-1"},[l("安装 ReSukiSU "),e("a",{class:"header-anchor",href:"#install","aria-label":"Permalink to “安装 ReSukiSU”"},"​")],-1)),t(s),o[31]||(o[31]=e("div",{class:"tip custom-block"},[e("p",{class:"custom-block-title custom-block-title-default"},"TIP"),e("p",null,"我们默认你已经拥有一定的刷机基础能力，和基本的救砖知识，所以这一部分的文档并不会写得很详细")],-1)),o[32]||(o[32]=e("h2",{id:"Get-manager",tabindex:"-1"},[l("下载 ReSukiSU 管理器 "),e("a",{class:"header-anchor",href:"#Get-manager","aria-label":"Permalink to “下载ReSukiSU管理器”"},"​")],-1)),e("div",g,[o[5]||(o[5]=e("p",{class:"custom-block-title"},"仍在开发中...",-1)),e("p",null,[o[2]||(o[2]=l("因为 ReSukiSU 的管理器还有很多未完成的东西，所以 ReSukiSU 暂时不会发布至 Github Release，但你可以通过",-1)),t(i,{href:"https://nightly.link/ReSukiSU/ReSukiSU/workflows/build-manager/main/Manager-release.zip",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[0]||(o[0]=[e("code",null,"nightly.link",-1)])]),_:1}),o[3]||(o[3]=l(" 或者 ",-1)),t(i,{href:"https://github.com/ReSukiSU/ReSukiSU/actions/workflows/build-manager.yml",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[1]||(o[1]=[e("code",null,"Github Action",-1)])]),_:1}),o[4]||(o[4]=l(" 来获取目前仍在开发中的管理器。",-1))]),o[6]||(o[6]=e("p",null,"(Nightly.link 无需登录 Github 账号即可下载文件)",-1))]),o[33]||(o[33]=r('<h2 id="Installzation" tabindex="-1">安装 <a class="header-anchor" href="#Installzation" aria-label="Permalink to “安装”">​</a></h2><p>ReSukiSU 提供了以下两种方式来安装 ReSukiSU</p><h3 id="LKM" tabindex="-1">LKM 安装 <a class="header-anchor" href="#LKM" aria-label="Permalink to “LKM 安装”">​</a></h3><p>在安装好 ReSukiSU 管理器后，如果内核版本 &gt;= 5.10 ，点击<code>未安装</code>后会跳转到安装界面并显示 LKM 修补 / 安装。</p><p>根据管理器的提示，选择好 boot/init_boot/vendor_boot 文件，点击<code>下一步</code>。</p><div class="info custom-block"><p class="custom-block-title">tips</p><p>需要修补 <code>vendor_boot</code> 的设备相当少见，所以一般只需要修补 <code>init_boot</code> 文件即可</p></div><p>管理器会快速地将根据系统的 KMI 决定 LKM 文件，并将其提供的镜像文件进行修补，并以 <code>KernelSU_patched_*.img</code> 输出至下载目录</p><p>之后需要通过一些方法，把修补后的镜像文件<strong>刷入</strong>进对应分区，便大功告成了</p><h3 id="builtin" tabindex="-1">GKI2/GKI1 / 非 GKI 内核（Anykernel3）安装 <a class="header-anchor" href="#builtin" aria-label="Permalink to “GKI2/GKI1/非GKI内核（Anykernel3）安装”">​</a></h3><p>ReSukiSU 管理器虽然内置了 Anykernel3 的安装方式，但是在管理器未获得<strong> ROOT 权限</strong>时，这个安装方法不会被显示出来。您可能需要以下操作才可使用</p>',10)),e("p",null,[o[8]||(o[8]=l("1. 通过 ",-1)),t(i,{href:"./install.html#lkm"},{default:a(()=>[...o[7]||(o[7]=[l("LKM 安装",-1)])]),_:1}),o[9]||(o[9]=l(" 获取 root 后再进行刷入 AnyKernel3 包",-1))]),o[34]||(o[34]=e("p",null,[l("2. 使用 "),e("code",null,"magiskboot"),l(" 手动修改 boot 镜像")],-1)),o[35]||(o[35]=e("h4",{id:"manual-patch-boot",tabindex:"-1"},[l("手动修改 boot 镜像 "),e("a",{class:"header-anchor",href:"#manual-patch-boot","aria-label":"Permalink to “手动修改boot镜像”"},"​")],-1)),e("div",p,[o[12]||(o[12]=e("p",{class:"custom-block-title"},"Note",-1)),e("p",null,[o[11]||(o[11]=l("这一部分取自 ",-1)),t(i,{href:"https://kernelsu.org",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[10]||(o[10]=[l("KernelSU 官方文档",-1)])]),_:1})])]),e("ol",null,[e("li",null,[t(i,{href:"https://github.com/topjohnwu/Magisk/releases",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[13]||(o[13]=[l("magiskboot",-1)])]),_:1})]),e("li",null,[t(i,{href:"https://github.com/ookiineko/magiskboot_build/releases/tag/last-ci",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[14]||(o[14]=[l("magiskboot_build",-1)])]),_:1})])]),o[36]||(o[36]=e("p",null,[l("Magisk 官方提供的 "),e("code",null,"magiskboot"),l(" 只能运行在 Android/Linux 设备上，如果你想在 macOS/Windows 上使用 "),e("code",null,"magiskboot"),l(" 可以使用第二个方法。")],-1)),o[37]||(o[37]=e("h5",{id:"patch-preparation",tabindex:"-1"},[l("准备 "),e("a",{class:"header-anchor",href:"#patch-preparation","aria-label":"Permalink to “准备”"},"​")],-1)),e("ol",null,[e("li",null,[o[16]||(o[16]=l("获取你手机的原厂 boot.img；你可以通过你手机的线刷包解压后之间获取，如果你是卡刷包，那你也许需要 ",-1)),t(i,{href:"https://github.com/ssut/payload-dumper-go",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[15]||(o[15]=[l("payload-dumper-go",-1)])]),_:1})]),o[17]||(o[17]=e("li",null,"下载你所获取到的 AnyKernel3 刷机包",-1)),o[18]||(o[18]=e("li",null,[l("解压缩 AnyKernel3 刷机包，获取其中的 "),e("code",null,"Image"),l(" 文件，此文件为 KernelSU 的内核文件。")],-1))]),o[38]||(o[38]=e("h5",{id:"using-magiskboot-on-Android-devices",tabindex:"-1"},[l("在 Android 设备上使用 magiskboot "),e("a",{class:"header-anchor",href:"#using-magiskboot-on-Android-devices","aria-label":"Permalink to “在 Android 设备上使用 magiskboot”"},"​")],-1)),e("ol",null,[e("li",null,[o[20]||(o[20]=l("在 Magisk 的 ",-1)),t(i,{href:"https://github.com/topjohnwu/Magisk/releases",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[19]||(o[19]=[l("Release 页面",-1)])]),_:1}),o[21]||(o[21]=l(" 下载最新的 Magisk 安装包。",-1))]),o[22]||(o[22]=r("<li>将 <code>Magisk-*(version).apk</code> 重命名为 <code>Magisk-*.zip</code> 然后解压缩。</li><li>将解压后的 <code>Magisk-*/lib/arm64-v8a/libmagiskboot.so</code> 文件，使用 adb push 到手机：<code>adb push Magisk-*/lib/arm64-v8a/libmagiskboot.so /data/local/tmp/magiskboot</code></li><li>使用 adb 将原厂 boot.img 和 AnyKernel3 中的 Image 推送到手机</li><li>adb shell 进入 /data/local/tmp/ 目录，然后赋予刚 push 文件的可执行权限 <code>chmod +x magiskboot</code></li><li>adb shell 进入 /data/local/tmp/ 目录，执行 <code>./magiskboot unpack boot.img</code> 此时会解包 <code>boot.img</code> 得到一个叫做 <code>kernel</code> 的文件，这个文件为你原厂的 kernel</li><li>使用 <code>Image</code> 替换 <code>kernel</code>: <code>mv -f Image kernel</code></li><li>执行 <code>./magiskboot repack boot.img</code> 打包 img，此时你会得到一个 <code>new-boot.img</code> 的文件，使用这个文件 fastboot 刷入设备即可。</li>",7))]),o[39]||(o[39]=e("h5",{id:"using-magiskboot-on-PC",tabindex:"-1"},[l("在 macOS/Windows/Linux 上使用 magiskboot "),e("a",{class:"header-anchor",href:"#using-magiskboot-on-PC","aria-label":"Permalink to “在 macOS/Windows/Linux 上使用 magiskboot”"},"​")],-1)),e("ol",null,[e("li",null,[o[24]||(o[24]=l("在 ",-1)),t(i,{href:"https://github.com/ookiineko/magiskboot_build/releases/tag/last-ci",target:"_blank",rel:"noreferrer"},{default:a(()=>[...o[23]||(o[23]=[l("magiskboot_build",-1)])]),_:1}),o[25]||(o[25]=l(" 下载适合你操作系统的 ",-1)),o[26]||(o[26]=e("code",null,"magiskboot",-1)),o[27]||(o[27]=l(" 二进制文件。",-1))]),o[28]||(o[28]=r("<li>在你的 PC 上准备好设备原厂的 boot.img 和 KernelSU 的 Image。</li><li><code>chmod +x magiskboot</code></li><li>在你 PC 上合适的目录执行 <code>./magiskboot unpack boot.img</code> 来解包 <code>boot.img</code>, 你会得到一个 <code>kernel</code> 文件，这个文件是你设备原厂的 kernel。</li><li>使用 <code>Image</code> 替换 <code>kernel</code>: <code>mv -f Image kernel</code></li><li>执行 <code>./magiskboot repack boot.img</code> 打包 img，此时你会得到一个 <code>new-boot.img</code> 的文件，使用这个文件 fastboot 刷入设备即可。</li>",5))]),o[40]||(o[40]=e("div",{class:"info custom-block"},[e("p",{class:"custom-block-title custom-block-title-default"},"INFO"),e("p",null,[l("Magisk 官方的 "),e("code",null,"magiskboot"),l(" 可以在 Linux 设备上执行，如果你是 Linux 用户，可以直接用官方版本。")])],-1)),t(d)])}const x=b(k,[["render",f]]);export{v as __pageData,x as default};
